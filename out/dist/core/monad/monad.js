"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Monad = void 0;
const __1 = require("../");
class Monad extends __1.Functor {
    static of(value) {
        return new Monad(value);
    }
    static fromValueOf(value) {
        return new Monad(JSON.parse(JSON.stringify(value.fork)));
    }
    constructor(value) {
        super(value);
    }
    ap(c) {
        return c.map((fn) => this.map(x => fn(x)))
            .fork;
    }
    chain(fn) {
        return Monad.of(this.map(x => fn(x)).fork).fork;
    }
    map(fn) {
        return Monad.of(super.map(x => fn(x)).fork);
    }
}
exports.Monad = Monad;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9uYWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9tb25hZC9tb25hZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQkFBOEI7QUFHOUIsTUFBYSxLQUFZLFNBQVEsV0FBYTtJQUNyQyxNQUFNLENBQUMsRUFBRSxDQUFPLEtBQVc7UUFDaEMsT0FBTyxJQUFJLEtBQUssQ0FBTyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBTyxLQUFrQjtRQUNoRCxPQUFPLElBQUksS0FBSyxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxZQUFtQixLQUFXO1FBQzVCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNmLENBQUM7SUFFTSxFQUFFLENBQUksQ0FBeUI7UUFDcEMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFXLENBQUMsRUFBb0IsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3RFLElBQUksQ0FBQztJQUNWLENBQUM7SUFFTSxLQUFLLENBQUksRUFBMEI7UUFDeEMsT0FBTyxLQUFLLENBQUMsRUFBRSxDQUNiLElBQUksQ0FBQyxHQUFHLENBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3BDLENBQUMsSUFBSSxDQUFDO0lBQ1QsQ0FBQztJQUVNLEdBQUcsQ0FBSSxFQUFvQjtRQUNoQyxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQ2IsS0FBSyxDQUFDLEdBQUcsQ0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDOUIsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQTdCRCxzQkE2QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGdW5jdG9yIH0gZnJvbSAnLi4vJztcbmltcG9ydCB7IEZuQXRvQiB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIE1vbmFkPE1WYWw+IGV4dGVuZHMgRnVuY3RvcjxNVmFsPiB7XG4gIHB1YmxpYyBzdGF0aWMgb2Y8VFZhbD4odmFsdWU6IFRWYWwpOiBNb25hZDxUVmFsPiB7XG4gICAgcmV0dXJuIG5ldyBNb25hZDxUVmFsPih2YWx1ZSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGZyb21WYWx1ZU9mPFRWYWw+KHZhbHVlOiBNb25hZDxUVmFsPik6IE1vbmFkPFRWYWw+IHtcbiAgICByZXR1cm4gbmV3IE1vbmFkPFRWYWw+KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUuZm9yaykpKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcih2YWx1ZTogTVZhbCkge1xuICAgIHN1cGVyKHZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBhcDxSPihjOiBNb25hZDxGbkF0b0I8TVZhbCwgUj4+KTogTW9uYWQ8Uj4ge1xuICAgIHJldHVybiBjLm1hcDxNb25hZDxSPj4oKGZuOiAodmFsOiBNVmFsKSA9PiBSKSA9PiB0aGlzLm1hcDxSPih4ID0+IGZuKHgpKSlcbiAgICAgIC5mb3JrO1xuICB9XG5cbiAgcHVibGljIGNoYWluPFI+KGZuOiBGbkF0b0I8TVZhbCwgTW9uYWQ8Uj4+KTogTW9uYWQ8Uj4ge1xuICAgIHJldHVybiBNb25hZC5vZjxNb25hZDxSPj4oXG4gICAgICB0aGlzLm1hcDxNb25hZDxSPj4oeCA9PiBmbih4KSkuZm9yayxcbiAgICApLmZvcms7XG4gIH1cblxuICBwdWJsaWMgbWFwPFI+KGZuOiAodmFsOiBNVmFsKSA9PiBSKTogTW9uYWQ8Uj4ge1xuICAgIHJldHVybiBNb25hZC5vZihcbiAgICAgIHN1cGVyLm1hcDxSPih4ID0+IGZuKHgpKS5mb3JrLFxuICAgICk7XG4gIH1cbn1cbiJdfQ==