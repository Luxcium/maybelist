"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Monad = void 0;
const __1 = require("../..");
class Monad extends __1.Functor {
    static of(value) {
        return new Monad(value);
    }
    static fromValueOf(value) {
        return new Monad(JSON.parse(JSON.stringify(value.fork)));
    }
    constructor(value) {
        super(value);
    }
    ap(c) {
        return c.map((fn) => this.map(x => fn(x)))
            .fork;
    }
    chain(fn) {
        return Monad.of(this.map(x => fn(x)).fork).fork;
    }
    map(fn) {
        return Monad.of(super.map(x => fn(x)).fork);
    }
}
exports.Monad = Monad;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9uYWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29yZS9tb25hZC9tb25hZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw2QkFBZ0M7QUFHaEMsTUFBYSxLQUFZLFNBQVEsV0FBYTtJQUNyQyxNQUFNLENBQUMsRUFBRSxDQUFPLEtBQVc7UUFDaEMsT0FBTyxJQUFJLEtBQUssQ0FBTyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBTyxLQUFrQjtRQUNoRCxPQUFPLElBQUksS0FBSyxDQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxZQUFtQixLQUFXO1FBQzVCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNmLENBQUM7SUFFTSxFQUFFLENBQUksQ0FBeUI7UUFDcEMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFXLENBQUMsRUFBb0IsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3RFLElBQUksQ0FBQztJQUNWLENBQUM7SUFFTSxLQUFLLENBQUksRUFBMEI7UUFDeEMsT0FBTyxLQUFLLENBQUMsRUFBRSxDQUNiLElBQUksQ0FBQyxHQUFHLENBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3BDLENBQUMsSUFBSSxDQUFDO0lBQ1QsQ0FBQztJQUVNLEdBQUcsQ0FBSSxFQUFvQjtRQUVoQyxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQ2IsS0FBSyxDQUFDLEdBQUcsQ0FBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDOUIsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQTlCRCxzQkE4QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGdW5jdG9yIH0gZnJvbSAnLi4vLi4nO1xuaW1wb3J0IHsgRm5BdG9CIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgTW9uYWQ8TVZhbD4gZXh0ZW5kcyBGdW5jdG9yPE1WYWw+IHtcbiAgcHVibGljIHN0YXRpYyBvZjxUVmFsPih2YWx1ZTogVFZhbCk6IE1vbmFkPFRWYWw+IHtcbiAgICByZXR1cm4gbmV3IE1vbmFkPFRWYWw+KHZhbHVlKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZnJvbVZhbHVlT2Y8VFZhbD4odmFsdWU6IE1vbmFkPFRWYWw+KTogTW9uYWQ8VFZhbD4ge1xuICAgIHJldHVybiBuZXcgTW9uYWQ8VFZhbD4oSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZS5mb3JrKSkpO1xuICB9XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHZhbHVlOiBNVmFsKSB7XG4gICAgc3VwZXIodmFsdWUpO1xuICB9XG5cbiAgcHVibGljIGFwPFI+KGM6IE1vbmFkPEZuQXRvQjxNVmFsLCBSPj4pOiBNb25hZDxSPiB7XG4gICAgcmV0dXJuIGMubWFwPE1vbmFkPFI+PigoZm46ICh2YWw6IE1WYWwpID0+IFIpID0+IHRoaXMubWFwPFI+KHggPT4gZm4oeCkpKVxuICAgICAgLmZvcms7XG4gIH1cblxuICBwdWJsaWMgY2hhaW48Uj4oZm46IEZuQXRvQjxNVmFsLCBNb25hZDxSPj4pOiBNb25hZDxSPiB7XG4gICAgcmV0dXJuIE1vbmFkLm9mPE1vbmFkPFI+PihcbiAgICAgIHRoaXMubWFwPE1vbmFkPFI+Pih4ID0+IGZuKHgpKS5mb3JrLFxuICAgICkuZm9yaztcbiAgfVxuXG4gIHB1YmxpYyBtYXA8Uj4oZm46ICh2YWw6IE1WYWwpID0+IFIpOiBNb25hZDxSPiB7XG4gICAgLy8gcmV0dXJuIG5ldyBGdW5jdG9yPFI+KGZuKHRoaXMuX3ZhbHVlKSk7XG4gICAgcmV0dXJuIE1vbmFkLm9mKFxuICAgICAgc3VwZXIubWFwPFI+KHggPT4gZm4oeCkpLmZvcmssXG4gICAgKTtcbiAgfVxufVxuIl19